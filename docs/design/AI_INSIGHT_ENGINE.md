# AI Insight Engine ì„¤ê³„

> ì„¸ì…˜ ë°ì´í„°ë¥¼ AIê°€ ë¶„ì„í•´ì„œ ì¸ì‚¬ì´íŠ¸/ë¦¬í¬íŠ¸ë¥¼ ìë™ ìƒì„±í•˜ëŠ” ê¸°ëŠ¥

## í•µì‹¬ ë‹ˆì¦ˆ

| ë¬¸ì œ | í•´ê²°ì±… |
|-----|--------|
| ê¸°ë¡ ì°¾ê¸° ì–´ë ¤ì›€ | ì‹œë§¨í‹± ê²€ìƒ‰ + ê´€ë ¨ ì„¸ì…˜ ì¶”ì²œ |
| ë°˜ë³µ íŒ¨í„´ ëª¨ë¦„ | ìë™ íŒ¨í„´ ê°ì§€ & ì•Œë¦¼ |
| ì˜ ì“°ê³  ìˆë‚˜ ëª¨ë¦„ | íš¨ìœ¨ì„± ë¶„ì„ & í”¼ë“œë°± |
| íšŒê³ /ì¼ë³´ ì—†ìŒ | AI ìë™ ìƒì„± ë¦¬í¬íŠ¸ |

---

## ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     AI Insight Engine                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   Analyzer   â”‚    â”‚   Detector   â”‚    â”‚   Reporter   â”‚      â”‚
â”‚  â”‚  (ì„¸ì…˜ ë¶„ì„)  â”‚    â”‚ (íŒ¨í„´ ê°ì§€)  â”‚    â”‚ (ë¦¬í¬íŠ¸ ìƒì„±) â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚                   â”‚                   â”‚               â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                             â”‚                                   â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚                    â”‚   LLM Provider  â”‚                          â”‚
â”‚                    â”‚ (Claude API/ë¡œì»¬)â”‚                          â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                    â”‚                    â”‚
         â–¼                    â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   sessions  â”‚      â”‚  patterns   â”‚      â”‚   reports   â”‚
â”‚  (ê¸°ì¡´ DB)   â”‚      â”‚  (ì‹ ê·œ DB)  â”‚      â”‚  (ì‹ ê·œ DB)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 1. Session Analyzer (ì„¸ì…˜ ë¶„ì„)

### ëª©ì 
ì„¸ì…˜ ì¢…ë£Œ ì‹œ ìë™ìœ¼ë¡œ ë‚´ìš© ë¶„ì„í•˜ì—¬ ì¸ì‚¬ì´íŠ¸ ì¶”ì¶œ

### íŠ¸ë¦¬ê±°
- ì„¸ì…˜ ì¢…ë£Œ Hook (`Stop` ì´ë²¤íŠ¸)
- ìˆ˜ë™ ë¶„ì„ ìš”ì²­ (ëŒ€ì‹œë³´ë“œì—ì„œ)

### ì¶”ì¶œ í•­ëª©
```typescript
interface SessionAnalysis {
  session_id: string;

  // ê¸°ì¡´ insights í™•ì¥
  summary: string;           // í•œ ì¤„ ìš”ì•½
  key_learnings: string[];   // ë°°ìš´ ê²ƒ
  problems_solved: string[]; // í•´ê²°í•œ ë¬¸ì œ
  code_patterns: string[];   // ì‚¬ìš©í•œ íŒ¨í„´
  technologies: string[];    // ì‚¬ìš© ê¸°ìˆ 

  // ì‹ ê·œ ì¶”ê°€
  task_type: TaskType;       // ë²„ê·¸ìˆ˜ì •, ê¸°ëŠ¥ê°œë°œ, ë¦¬íŒ©í† ë§, í•™ìŠµ ë“±
  difficulty: 'easy' | 'medium' | 'hard';
  efficiency_score: number;  // 0-100
  retry_count: number;       // "ë‹¤ì‹œ í•´ì¤˜" íšŸìˆ˜
  topic_keywords: string[];  // í•µì‹¬ í‚¤ì›Œë“œ (ê²€ìƒ‰ìš©)
}

type TaskType =
  | 'bug_fix'
  | 'feature'
  | 'refactor'
  | 'learning'
  | 'config'
  | 'docs'
  | 'other';
```

### íš¨ìœ¨ì„± ì ìˆ˜ ê³„ì‚°
```typescript
// íš¨ìœ¨ì„± ì§€í‘œ
interface EfficiencyMetrics {
  turns_to_complete: number;      // ì™„ë£Œê¹Œì§€ í„´ ìˆ˜
  retry_messages: number;         // "ë‹¤ì‹œ", "ìˆ˜ì •", "ì—ëŸ¬" ë“± í¬í•¨ ë©”ì‹œì§€
  same_file_edits: number;        // ê°™ì€ íŒŒì¼ ë°˜ë³µ ìˆ˜ì • íšŸìˆ˜
  error_recovery_count: number;   // ì—ëŸ¬ ë°œìƒ í›„ ì¬ì‹œë„
}

// ì ìˆ˜ ê³„ì‚° (ì˜ˆì‹œ)
function calculateEfficiency(metrics: EfficiencyMetrics): number {
  let score = 100;

  // í„´ ìˆ˜ê°€ ë§ì„ìˆ˜ë¡ ê°ì 
  if (metrics.turns_to_complete > 10) score -= (metrics.turns_to_complete - 10) * 2;

  // ì¬ì‹œë„ ë§ì„ìˆ˜ë¡ ê°ì 
  score -= metrics.retry_messages * 5;

  // ê°™ì€ íŒŒì¼ ë°˜ë³µ ìˆ˜ì • ê°ì 
  score -= Math.max(0, metrics.same_file_edits - 2) * 3;

  return Math.max(0, Math.min(100, score));
}
```

---

## 2. Pattern Detector (íŒ¨í„´ ê°ì§€)

### ëª©ì 
ì—¬ëŸ¬ ì„¸ì…˜ì— ê±¸ì³ ë°˜ë³µë˜ëŠ” íŒ¨í„´ ìë™ ê°ì§€

### DB ìŠ¤í‚¤ë§ˆ (ì‹ ê·œ)
```sql
CREATE TABLE IF NOT EXISTS patterns (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  pattern_type TEXT NOT NULL,        -- 'repeated_topic', 'common_error', 'frequent_tech'
  description TEXT NOT NULL,
  occurrences INTEGER DEFAULT 1,
  session_ids TEXT,                  -- JSON array
  first_seen DATETIME,
  last_seen DATETIME,
  suggestion TEXT,                   -- AI ì œì•ˆ
  is_resolved BOOLEAN DEFAULT FALSE,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

### ê°ì§€ ìœ í˜•

#### 2.1 ë°˜ë³µ ì£¼ì œ (Repeated Topic)
```
âš ï¸ ë°˜ë³µ íŒ¨í„´ ê°ì§€
"TypeScript íƒ€ì… ì—ëŸ¬" ê´€ë ¨ ì§ˆë¬¸ì´ ì´ë²ˆ ì£¼ 4íšŒ ë°œìƒ

ê´€ë ¨ ì„¸ì…˜:
- 01/15: "generic íƒ€ì… ì¶”ë¡  ë¬¸ì œ"
- 01/16: "union íƒ€ì… narrowing"
- 01/17: "conditional íƒ€ì… ì—ëŸ¬"
- 01/18: "infer í‚¤ì›Œë“œ ì‚¬ìš©"

ğŸ’¡ ì œì•ˆ: TypeScript ê³ ê¸‰ íƒ€ì… ì‹œìŠ¤í…œ í•™ìŠµì„ ì¶”ì²œí•©ë‹ˆë‹¤
   ì°¸ê³ : https://www.typescriptlang.org/docs/handbook/2/types-from-types.html
```

#### 2.2 ìì£¼ ë°œìƒí•˜ëŠ” ì—ëŸ¬ (Common Error)
```
âš ï¸ ë°˜ë³µ ì—ëŸ¬ íŒ¨í„´
"React Query ìºì‹œ ë¬´íš¨í™”" ê´€ë ¨ ì´ìŠˆ 3íšŒ ë°œìƒ

ğŸ’¡ ì œì•ˆ: queryClient.invalidateQueries íŒ¨í„´ì„ CLAUDE.mdì— ì¶”ê°€í•˜ì„¸ìš”
```

#### 2.3 ê¸°ìˆ  ìŠ¤íƒ íŠ¸ë Œë“œ (Tech Trend)
```
ğŸ“Š ì´ë²ˆ ë‹¬ ê°€ì¥ ë§ì´ ì‚¬ìš©í•œ ê¸°ìˆ 
1. React (23íšŒ)
2. TypeScript (21íšŒ)
3. SQLite (8íšŒ)
```

### ê°ì§€ ì•Œê³ ë¦¬ì¦˜
```typescript
async function detectPatterns(timeRange: 'week' | 'month'): Promise<Pattern[]> {
  const analyses = await getAnalysesInRange(timeRange);

  // 1. í‚¤ì›Œë“œ í´ëŸ¬ìŠ¤í„°ë§
  const keywords = analyses.flatMap(a => a.topic_keywords);
  const clusters = clusterSimilarKeywords(keywords);

  // 2. ë°˜ë³µ ì£¼ì œ ê°ì§€ (3íšŒ ì´ìƒ)
  const repeatedTopics = clusters.filter(c => c.count >= 3);

  // 3. LLMìœ¼ë¡œ ì œì•ˆ ìƒì„±
  const patterns = await Promise.all(
    repeatedTopics.map(topic => generatePatternInsight(topic))
  );

  return patterns;
}
```

---

## 3. Report Generator (ë¦¬í¬íŠ¸ ìƒì„±)

### ëª©ì 
ì¼ê°„/ì£¼ê°„ AI ìƒì„± ë¦¬í¬íŠ¸ ì œê³µ

### DB ìŠ¤í‚¤ë§ˆ (ì‹ ê·œ)
```sql
CREATE TABLE IF NOT EXISTS ai_reports (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  report_type TEXT NOT NULL,         -- 'daily', 'weekly', 'monthly'
  report_date TEXT NOT NULL,         -- YYYY-MM-DD or YYYY-WXX
  content TEXT NOT NULL,             -- Markdown í˜•ì‹
  stats_snapshot TEXT,               -- JSON (í†µê³„ ìŠ¤ëƒ…ìƒ·)
  generated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  UNIQUE(report_type, report_date)
);
```

### ë¦¬í¬íŠ¸ êµ¬ì¡°

#### Daily Report
```markdown
# ğŸ“… 2026-01-20 ì¼ê°„ ë¦¬í¬íŠ¸

## ğŸ“Š ì˜¤ëŠ˜ì˜ ìš”ì•½
- **ì„¸ì…˜**: 5ê°œ (í‰ê·  ëŒ€ë¹„ +2)
- **ë©”ì‹œì§€**: 47ê°œ
- **í† í°**: 125K (ì…ë ¥ 45K + ì¶œë ¥ 80K)
- **ì˜ˆìƒ ë¹„ìš©**: $2.35

## ğŸ¯ ì£¼ìš” ì‘ì—…
1. **CCD í”ŒëŸ¬ê·¸ì¸ ë°°í¬ ìë™í™”** (ì™„ë£Œ)
   - íš¨ìœ¨ì„±: 85/100
   - ë°°ìš´ ê²ƒ: Bun ë‚´ì¥ SQLite, MCP ìë™ ë“±ë¡

2. **OpenCode ì„¸ì…˜ ê°ì§€ ë²„ê·¸ ìˆ˜ì •** (ì™„ë£Œ)
   - íš¨ìœ¨ì„±: 72/100
   - 3ë²ˆ ì¬ì‹œë„ ë°œìƒ â†’ ì´ˆê¸° ìš”êµ¬ì‚¬í•­ ë¶ˆëª…í™•

## ğŸ’¡ ì˜¤ëŠ˜ì˜ ì¸ì‚¬ì´íŠ¸
- React Queryì˜ `staleTime` ì„¤ì •ì´ ë¶ˆí•„ìš”í•œ ë¦¬í˜ì¹˜ ë°©ì§€ì— íš¨ê³¼ì 
- Bunì˜ `${}` ì‰˜ ë¬¸ë²•ì´ child_processë³´ë‹¤ ê°„ê²°

## âš ï¸ ì£¼ì˜í•  ì 
- "TypeScript íƒ€ì…" ê´€ë ¨ ì§ˆë¬¸ 2íšŒ â†’ ì´ë²ˆ ì£¼ 4íšŒì§¸
```

#### Weekly Report
```markdown
# ğŸ“… 2026ë…„ 3ì£¼ì°¨ ì£¼ê°„ ë¦¬í¬íŠ¸ (01/13 - 01/19)

## ğŸ“Š ì£¼ê°„ ìš”ì•½
| ì§€í‘œ | ì´ë²ˆ ì£¼ | ì§€ë‚œ ì£¼ | ë³€í™” |
|-----|--------|--------|-----|
| ì„¸ì…˜ | 28ê°œ | 22ê°œ | +27% |
| ë©”ì‹œì§€ | 312ê°œ | 245ê°œ | +27% |
| í† í° | 850K | 720K | +18% |
| ë¹„ìš© | $15.20 | $12.80 | +19% |

## ğŸ”„ ë°˜ë³µ íŒ¨í„´ (ì£¼ì˜ í•„ìš”)
1. **TypeScript íƒ€ì… ì—ëŸ¬** - 4íšŒ ë°œìƒ
   - ê´€ë ¨ ì„¸ì…˜ ë³´ê¸° â†’
   - ğŸ’¡ ì œì•ˆ: íƒ€ì… ì‹œìŠ¤í…œ ì‹¬í™” í•™ìŠµ

## ğŸ“ˆ íš¨ìœ¨ì„± íŠ¸ë Œë“œ
- í‰ê·  íš¨ìœ¨ì„±: 78/100 (ì§€ë‚œ ì£¼ 72 ëŒ€ë¹„ ê°œì„ )
- ê°€ì¥ íš¨ìœ¨ì : "ë¬¸ì„œ ì‘ì—…" (92/100)
- ê°œì„  í•„ìš”: "ë²„ê·¸ ìˆ˜ì •" (65/100)

## ğŸ† ì´ë²ˆ ì£¼ í•˜ì´ë¼ì´íŠ¸
- CCD í”ŒëŸ¬ê·¸ì¸ ë°°í¬ ìë™í™” ì™„ì„±
- OpenCode ì§€ì› ì¶”ê°€

## ğŸ“š ì´ë²ˆ ì£¼ ë°°ìš´ ê²ƒ
1. Bun ë‚´ì¥ SQLite í™œìš©ë²•
2. MCP ì„œë²„ ìë™ ë“±ë¡ íŒ¨í„´
3. React Query ìºì‹œ ë¬´íš¨í™” ì „ëµ
```

---

## 4. API ì„¤ê³„

### ìƒˆë¡œìš´ ì—”ë“œí¬ì¸íŠ¸

```typescript
// ì„¸ì…˜ ë¶„ì„ íŠ¸ë¦¬ê±°
POST /api/analyze/:sessionId
Response: { success: true, data: SessionAnalysis }

// íŒ¨í„´ ì¡°íšŒ
GET /api/patterns?type=repeated_topic&resolved=false
Response: { success: true, data: Pattern[] }

// íŒ¨í„´ í•´ê²° í‘œì‹œ
PATCH /api/patterns/:id/resolve
Response: { success: true }

// AI ë¦¬í¬íŠ¸ ì¡°íšŒ
GET /api/reports/daily?date=2026-01-20
GET /api/reports/weekly?week=2026-W03
Response: { success: true, data: AIReport }

// AI ë¦¬í¬íŠ¸ ìƒì„± (ìˆ˜ë™/ìŠ¤ì¼€ì¤„)
POST /api/reports/generate
Body: { type: 'daily' | 'weekly', date?: string }
Response: { success: true, data: AIReport }
```

---

## 5. LLM Provider ì„¤ê³„

### ì˜µì…˜
1. **Claude API (ê¶Œì¥)** - ì •í™•ë„ ë†’ìŒ, ë¹„ìš© ë°œìƒ
2. **ë¡œì»¬ LLM (Ollama)** - ë¬´ë£Œ, ì„±ëŠ¥ ì œí•œ
3. **í•˜ì´ë¸Œë¦¬ë“œ** - ê°„ë‹¨í•œ ê±´ ë¡œì»¬, ë³µì¡í•œ ê±´ Claude

### ì¸í„°í˜ì´ìŠ¤
```typescript
interface LLMProvider {
  analyze(session: Session, messages: Message[]): Promise<SessionAnalysis>;
  detectPatterns(analyses: SessionAnalysis[]): Promise<Pattern[]>;
  generateReport(data: ReportData): Promise<string>;
}

// êµ¬í˜„ì²´
class ClaudeProvider implements LLMProvider { ... }
class OllamaProvider implements LLMProvider { ... }
class HybridProvider implements LLMProvider { ... }
```

### í”„ë¡¬í”„íŠ¸ ì˜ˆì‹œ (ì„¸ì…˜ ë¶„ì„)
```
ë‹¤ìŒ Claude Code ì„¸ì…˜ì„ ë¶„ì„í•´ì£¼ì„¸ìš”.

## ì„¸ì…˜ ì •ë³´
- í”„ë¡œì íŠ¸: ${project_name}
- ì‹œì‘: ${started_at}
- ì¢…ë£Œ: ${ended_at}

## ë©”ì‹œì§€ (${messages.length}ê°œ)
${messages.map(m => `[${m.type}]: ${m.content.slice(0, 500)}`).join('\n')}

## ë¶„ì„ ìš”ì²­
1. í•œ ì¤„ ìš”ì•½
2. ì‘ì—… ìœ í˜• (bug_fix/feature/refactor/learning/config/docs/other)
3. ë‚œì´ë„ (easy/medium/hard)
4. í•µì‹¬ í‚¤ì›Œë“œ (ê²€ìƒ‰ìš©, ìµœëŒ€ 5ê°œ)
5. ë°°ìš´ ê²ƒ (ìµœëŒ€ 3ê°œ)
6. í•´ê²°í•œ ë¬¸ì œ (ìµœëŒ€ 3ê°œ)
7. íš¨ìœ¨ì„± í‰ê°€ (ì¬ì‹œë„ íšŸìˆ˜, ë§‰íŒ ë¶€ë¶„ ë“±)

JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•´ì£¼ì„¸ìš”.
```

---

## 6. UI ì»´í¬ë„ŒíŠ¸ (Dashboard)

### ìƒˆë¡œìš´ í˜ì´ì§€/ì»´í¬ë„ŒíŠ¸

```
pages/
  AIReports.tsx          # ë¦¬í¬íŠ¸ ëª©ë¡/ìƒì„¸
  Patterns.tsx           # ê°ì§€ëœ íŒ¨í„´ ëª©ë¡

components/
  reports/
    DailyReportCard.tsx
    WeeklyReportCard.tsx
    ReportGenerator.tsx   # ìˆ˜ë™ ìƒì„± ë²„íŠ¼

  patterns/
    PatternAlert.tsx      # ë°˜ë³µ íŒ¨í„´ ì•Œë¦¼
    PatternList.tsx
    PatternDetail.tsx

  insights/
    EfficiencyScore.tsx   # íš¨ìœ¨ì„± ì ìˆ˜ í‘œì‹œ
    SessionAnalysisCard.tsx
```

### ëŒ€ì‹œë³´ë“œ í†µí•©
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Dashboard                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ âš ï¸ íŒ¨í„´ ì•Œë¦¼    â”‚  â”‚  ğŸ“Š ì˜¤ëŠ˜ì˜ íš¨ìœ¨ì„±          â”‚  â”‚
â”‚  â”‚ TypeScript íƒ€ì… â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 78/100         â”‚  â”‚
â”‚  â”‚ ê´€ë ¨ 4íšŒ ë°˜ë³µ   â”‚  â”‚                             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ“… ì˜¤ëŠ˜ì˜ ë¦¬í¬íŠ¸                    [ì „ì²´ ë³´ê¸°]  â”‚   â”‚
â”‚  â”‚  ì„¸ì…˜ 5ê°œ | ë©”ì‹œì§€ 47ê°œ | í† í° 125K              â”‚   â”‚
â”‚  â”‚  ì£¼ìš” ì‘ì—…: í”ŒëŸ¬ê·¸ì¸ ë°°í¬ ìë™í™”, ë²„ê·¸ ìˆ˜ì •      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. êµ¬í˜„ ìš°ì„ ìˆœìœ„

### Phase 1: ê¸°ë³¸ ë¶„ì„ (MVP)
1. [ ] `ai_reports` í…Œì´ë¸” ì¶”ê°€
2. [ ] LLM Provider ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ (Claude API)
3. [ ] ì„¸ì…˜ ë¶„ì„ API (`POST /api/analyze/:sessionId`)
4. [ ] ìˆ˜ë™ ë¦¬í¬íŠ¸ ìƒì„± API
5. [ ] ê¸°ë³¸ ë¦¬í¬íŠ¸ UI

### Phase 2: ìë™í™”
1. [ ] ì„¸ì…˜ ì¢…ë£Œ Hookì—ì„œ ìë™ ë¶„ì„
2. [ ] ì¼ê°„ ë¦¬í¬íŠ¸ ìë™ ìƒì„± (ìŠ¤ì¼€ì¤„ëŸ¬)
3. [ ] ëŒ€ì‹œë³´ë“œ ì•Œë¦¼ ì»´í¬ë„ŒíŠ¸

### Phase 3: íŒ¨í„´ ê°ì§€
1. [ ] `patterns` í…Œì´ë¸” ì¶”ê°€
2. [ ] íŒ¨í„´ ê°ì§€ ì•Œê³ ë¦¬ì¦˜
3. [ ] íŒ¨í„´ UI ì»´í¬ë„ŒíŠ¸

### Phase 4: ê³ ë„í™”
1. [ ] ì£¼ê°„/ì›”ê°„ ë¦¬í¬íŠ¸
2. [ ] íš¨ìœ¨ì„± íŠ¸ë Œë“œ ì°¨íŠ¸
3. [ ] ë¡œì»¬ LLM ì˜µì…˜ (Ollama)

---

## 8. ì„¤ì •

```typescript
// ~/.ccd/config.json
{
  "ai_insights": {
    "enabled": true,
    "provider": "claude",           // "claude" | "ollama" | "hybrid"
    "claude_api_key": "sk-...",     // ë˜ëŠ” í™˜ê²½ë³€ìˆ˜ ANTHROPIC_API_KEY
    "auto_analyze": true,           // ì„¸ì…˜ ì¢…ë£Œ ì‹œ ìë™ ë¶„ì„
    "auto_report": {
      "daily": true,                // ë§¤ì¼ ìë™ ìƒì„±
      "weekly": true,               // ë§¤ì£¼ ìë™ ìƒì„±
      "time": "09:00"               // ìƒì„± ì‹œê°
    },
    "pattern_detection": {
      "enabled": true,
      "min_occurrences": 3          // ìµœì†Œ ë°˜ë³µ íšŸìˆ˜
    }
  }
}
```

---

## 9. ë¹„ìš© ê³ ë ¤

### Claude API ì‚¬ìš©ëŸ‰ ì˜ˆì¸¡
- ì„¸ì…˜ ë¶„ì„: ~2K í† í°/ì„¸ì…˜ â†’ ~$0.006/ì„¸ì…˜
- ì¼ê°„ ë¦¬í¬íŠ¸: ~5K í† í° â†’ ~$0.015/ì¼
- ì£¼ê°„ ë¦¬í¬íŠ¸: ~10K í† í° â†’ ~$0.03/ì£¼

### ì›”ê°„ ì˜ˆìƒ ë¹„ìš© (í•˜ë£¨ 5ì„¸ì…˜ ê¸°ì¤€)
- ì„¸ì…˜ ë¶„ì„: 150ì„¸ì…˜ Ã— $0.006 = $0.90
- ì¼ê°„ ë¦¬í¬íŠ¸: 30ì¼ Ã— $0.015 = $0.45
- ì£¼ê°„ ë¦¬í¬íŠ¸: 4ì£¼ Ã— $0.03 = $0.12
- **ì´: ~$1.50/ì›”**

---

## 10. ì°¨ë³„í™” í¬ì¸íŠ¸

| ê¸°ì¡´ ë„êµ¬ | CCD AI Insight Engine |
|---------|----------------------|
| ìˆ«ìë§Œ ë³´ì—¬ì¤Œ | AIê°€ í•´ì„í•´ì„œ ì˜ë¯¸ ë¶€ì—¬ |
| ìˆ˜ë™ íšŒê³  | ìë™ ë¦¬í¬íŠ¸ ìƒì„± |
| ê²€ìƒ‰ë§Œ ê°€ëŠ¥ | ë°˜ë³µ íŒ¨í„´ ìë™ ê°ì§€ |
| ê°œë³„ ì„¸ì…˜ë§Œ | í¬ë¡œìŠ¤ ì„¸ì…˜ ì¸ì‚¬ì´íŠ¸ |
